<!DOCTYPE html>
<html lang="en" ng-app="app">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../js/angular.js"></script>
    <script src="/vendor/expect.js"></script>
</head>

<body>
    <div ng-controller="myCtrl">
        <p id="time">Time: {{data.time}}</p>
        <p id="hello">hello: {{data.hello}}</p>
        <br/>
        <button ng-click="updateTime()">update time-ngClick </button>
        <button ng-click="updateTime2()">update 2 time-ngClick </button>
        <button id="updateTimeButton">updateTime</button>
    </div>

    <script>
        angular.module('app', [])
            .controller('myCtrl', function($scope, $rootScope) {

                $scope.data = {
                    time: new Date(),
                    hello: 9,
                    counter: 0
                };


                $scope.updateTime = function() {
                    $scope.data.time = new Date();
                    $scope.data.hello++;
                }

                $scope.updatTime2 = function() {
                    $scope.data.time = new Date();
                }

                document.getElementById("updateTimeButton")
                    .addEventListener('click', function() {

                        console.log("update time clicked");
                        // document.getElementById("hello").innerHTML = "hh";
                        $scope.data.time = new Date();
                        $scope.$digest();
                        console.log($scope.data.counter);
                    });
                $scope.$watch('data.hello', function(newValue, oldValue) {
                    document.getElementById("hello").innerHTML = newValue;
                    $scope.data.counter++;
                })
                console.log($scope.data.counter);
            })
    </script>
</body>

</html>